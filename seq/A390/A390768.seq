%I A390768 #98 Jan 15 2026 15:14:53
%S A390768 0,-1,1,-2,-2,-1,1,-3,-1,-1,1,-2,-1,-1,1,-4,-1,-1,0,-2,-4,-1,1,-3,0,
%T A390768 -1,1,-2,-1,-1,1,-5,-1,-1,0,-2,-3,-1,0,-3,-1,-1,1,-2,-1,-1,1,-4,0,-1,
%U A390768 1,-2,-3,-1,1,-3,0,-1,1,-2,-1,-1,1,-6,-1,-1,0,-2,-3,-1,0,-3,-1
%N A390768 Binary length of A139391(n) - binary length of n.
%C A390768 A139391(n) = (3*n+1)/2^e is the "reduced" Collatz step and a(n) is the change in region number m on going n -> A139391(n), where region m is range (2^m, 2^(m+1)-1).
%C A390768 a(n) is at most 1 since the step always has e >= 1.
%C A390768 a(n) = 0 iff n is in A390595, since region number here and binary length there are equivalent for any n with e=1.
%C A390768 The a(n) with even n are the negated terms of the ruler function A001511.
%C A390768 ----------------------------------------------------------------------------------------------
%C A390768   m  | Terms                                                           | Sums per region
%C A390768      | (negative terms to left regions, positive to right regions)     | Cf. A392003 (negated)
%C A390768 ----------------------------------------------------------------------------------------------
%C A390768   0  |  0                                                              |     0
%C A390768   1  | -1,  1                                                          |     0
%C A390768   2  | -2, -2, -1,  1                                                  |    -4
%C A390768   3  | -3, -1, -1,  1, -2, -1, -1,  1                                  |    -7
%C A390768   4  | -4, -1, -1,  0, -2, -4, -1,  1, -3,  0, -1,  1, -2, -1, -1,  1  |   -18
%C A390768   5  | -5, -1, -1,  0, -2, ..................... ,  1, -2, -1, -1,  1  |   -35
%C A390768   6  | -6, -1, -1,  0, -2, ..................... ,  1, -2, -1, -1,  1  |   -74
%C A390768   7  | -7, -1, -1,  0, -2, ..................... ,  1, -2, -1, -1,  1  |  -147
%C A390768   8  | -8, -1, -1,  0, -2, ..................... ,  1, -2, -1, -1,  1  |  -298
%C A390768   :  |  :                                                              |    :
%C A390768 ----------------------------------------------------------------------------------------------
%C A390768 The ratio:  -Sum of terms in region m / 2^m tends to be 7/6 (= A177057) for m -> oo.
%H A390768 Karl-Heinz Hofmann, <a href="/A390768/b390768.txt">Table of n, a(n) for n = 1..16384</a>
%F A390768 a(2*n) = -1 * A001511(n).
%t A390768 a[n_] := Subtract @@ BitLength[{(# / 2^IntegerExponent[#, 2])& @ If[OddQ[n], 3*n + 1, n], n}]; Array[a, 100] (* _Amiram Eldar_, Dec 27 2025 *)
%o A390768 (PARI) a390768(n) = if(n%2, my(m=3*n+1); #binary(m/2^valuation(m,2)) - #binary(n), -valuation(n,2)) \\ _Hugo Pfoertner_, Dec 27 2025
%o A390768 (Python)
%o A390768 def A390768(n):
%o A390768     bitlen = n.bit_length()
%o A390768     if n % 2: n = 3 * n + 1
%o A390768     while n % 2 == 0: n //= 2
%o A390768     return n.bit_length() - bitlen
%Y A390768 Cf. A139391, A001511, A392003, A177057.
%Y A390768 Cf. A390595 (indices of 0's).
%K A390768 sign,easy
%O A390768 1,4
%A A390768 _Karl-Heinz Hofmann_, Nov 18 2025
