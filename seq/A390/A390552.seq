%I A390552 #18 Feb 10 2026 14:43:13
%S A390552 0,0,0,1,0,3,3,3,0,6,12,6,12,18,12,6,0,10,30,30,10,30,80,50,60,80,30,
%T A390552 30,60,60,30,10,0,15,60,90,60,15,60,225,255,105,180,420,255,180,225,
%U A390552 60,90,300,210,345,495,210,180,345,300,90,60,150,195,150,60,15
%N A390552 Irregular triangular array read by rows. T(n,k) is the total number of inversions over the permutations of [n] whose descent set is S for each subset S of {1,2,...,n-1} where the subsets are ordered first by size and then lexicographically (Cf. A082185).
%D A390552 Richard Stanley, Enumerative Combinatorics, Volume 1, Second Edition, Example 2.2.5.
%e A390552 Triangle begins
%e A390552   0;
%e A390552   0;
%e A390552   0,  1;
%e A390552   0,  3,  3,  3;
%e A390552   0,  6, 12,  6, 12, 18, 12, 6;
%e A390552   0, 10, 30, 30, 10, 30, 80, 50, 60, 80, 30, 30, 60, 60, 30, 10; ...
%e A390552 T(4,7) = 12. S = {2,3}. There are A335845(4,7) = 3 permutations of [4] whose descent set is {2,3}: {1, 4, 3, 2}, {2, 4, 3, 1}, {3, 4, 2, 1} these have 3,4,5 inversions respectively for a total of 12.
%t A390552 steps[n_, subset_] := Map[Differences,Map[Append[#, n] &, Map[Prepend[#, 0] &, Subsets[subset]]]]; f[list_] := Apply[Times, Map[QFactorial[#, q] &, list]];numberofinversionsin[n_,subset_]:=Abs[Limit[D[Total[Map[QFactorial[n, q]/f[#] &,Select[steps[n, subset], EvenQ[Length[#]] &]]] // FunctionExpand, q], q -> 1] - Limit[D[Total[Map[QFactorial[n, q]/f[#] &, Select[steps[n, subset],OddQ[Length[#]] &]]] // FunctionExpand, q], q -> 1]]; Table[Map[numberofinversionsin[n, #] &, Subsets[Range[n - 1]]], {n, 0, 6}]
%Y A390552 Cf. A001809, A392945, A335845, A001809 (row sums), A000217 (second column and last entry in each row), A393166, A337193 (maximum in each row).
%K A390552 nonn,tabf,new
%O A390552 0,6
%A A390552 _Geoffrey Critzer_, Feb 03 2026
