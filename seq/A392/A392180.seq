%I A392180 #16 Feb 07 2026 20:42:25
%S A392180 1,0,1,0,-1,0,-1,-1,-1,0,-1,0,-1,-1,-1,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,
%T A392180 1,2,2,2,1,0,1,0,0,0,1,0,1,1,0,0,0,1,2,1,2,2,2,2,2,1,2,1,0,0,0,1,1,0,
%U A392180 -1,0,-1,0,-1,0,1,2,1,1,1,2,3,3,2,2,2,3,2,3
%N A392180 At square n in the black/red knights spiral discussed in A392177-A392179, suppose we have seen a total of Nb black knights and Nr red knights so far; then a(n) = Nb-Nr.
%H A392180 Michael S. Branicky, <a href="/A392180/b392180.txt">Table of n, a(n) for n = 0..50000</a>
%o A392180 (Python)
%o A392180 from itertools import count, islice
%o A392180 def square_spiral(): # generator of square spiral coordinates
%o A392180     i, j, di, dj, L = 0, 0, 1, 0, 1
%o A392180     yield i, j
%o A392180     while True:
%o A392180         for s in range(2):
%o A392180             for k in range(L):
%o A392180                 i, j = i+di, j+dj
%o A392180                 yield i, j
%o A392180             di, dj = -dj, di
%o A392180         L += 1
%o A392180 def agen(): # 0, 1 = Black, Red
%o A392180     p, g = {0: set(), 1: set()}, {0: square_spiral(), 1: square_spiral()}
%o A392180     K = {(0, 0), (2, 1), (1, 2), (-1, 2), (-2, 1), (-2, -1), (-1, -2), (1, -2), (2, -1)}
%o A392180     m, n, diffs = [-1, -1], -1, 0
%o A392180     pi = {0: set(), 1: set()}
%o A392180     while True:
%o A392180         for turn in (0, 1):
%o A392180             for k in count(m[turn]+1):
%o A392180                 loc = next(g[turn])
%o A392180                 if all((loc[0]+i, loc[1]+j) not in p[1-turn] for i, j in K):
%o A392180                     m[turn] = k
%o A392180                     p[turn].add(loc)
%o A392180                     pi[turn].add(k)
%o A392180                     break
%o A392180         for n in range(n+1, min(m)+1):
%o A392180             diffs += (1 if n in pi[0] else -1 if n in pi[1] else 0)
%o A392180             yield diffs
%o A392180 print(list(islice(agen(), 84))) # _Michael S. Branicky_, Feb 07 2026
%Y A392180 Cf. A392177-A392179.
%K A392180 sign,look,new
%O A392180 0,22
%A A392180 _N. J. A. Sloane_, Feb 07 2026
