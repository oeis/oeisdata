%I A392221 #39 Jan 18 2026 21:47:05
%S A392221 0,1,2,3,5,6,8,9,12,13,16,17,20,21,24,25,29,30,34,35,39,40,44,45,49,
%T A392221 50,54,55,59,60,64,65,70,71,76,77,82,83,88,89,94,95,100,101,106,107,
%U A392221 112,113,118,119,124,125,130,131,136,137,142,143,148,149,154,155,160,161,167,168,174,175
%N A392221 Sum of depths of leaves in a complete binary tree with n nodes.
%C A392221 The values are invariant for left-complete and right-complete binary trees.
%H A392221 Paolo Xausa, <a href="/A392221/b392221.txt">Table of n, a(n) for n = 1..10000</a>
%F A392221 a(2*k-1) = A003314(k). a(2*k) = A123753(k-1).
%F A392221 a(n) = (n - 2^h + 1) + (h - 1)*ceiling(n/2), where h = floor(log_2(n)), see A000523.
%e A392221 For n=5, the tree is as follows and the leaves are nodes 3, 4, 5 with depths a(5) = 1 + 2 + 2 = 5.
%e A392221       1
%e A392221      / \
%e A392221     2   3
%e A392221    / \
%e A392221   4   5
%t A392221 A392221[n_] := n - 2^# + 1 + (# - 1)*Quotient[n + 1, 2] & [BitLength[n] - 1];
%t A392221 Array[A392221, 100] (* _Paolo Xausa_, Jan 18 2026 *)
%o A392221 (Python)
%o A392221 def a(n):
%o A392221     if n <= 1: return 0
%o A392221     h = n.bit_length() - 1
%o A392221     leaves_h = n - (2**h - 1)
%o A392221     total_leaves = (n + 1) // 2
%o A392221     return leaves_h + total_leaves * (h - 1)
%Y A392221 Cf. A061168 (total depths all nodes).
%Y A392221 Cf. A003314, A123753, A070941, A000523.
%Y A392221 Cf. A390616 (in complete ternary).
%K A392221 nonn,easy
%O A392221 1,3
%A A392221 _Kaloian Ivanov_, Jan 03 2026
