%I A030257 #22 Dec 10 2025 22:32:40
%S A030257 1,1,1,7,192,82355,653502972,110826042515867,479732982053513924168,
%T A030257 62082231641825701423422054735,
%U A030257 275573192431752191557427399293883120600,47363301285150007842253190185182901101879369430257,351257232331514625349582816903748429591600604567906215310767096
%N A030257 Number of nonisomorphic commutative idempotent groupoids.
%H A030257 Andrew Howroyd, <a href="/A030257/b030257.txt">Table of n, a(n) for n = 0..36</a>
%H A030257 <a href="/index/Gre#groupoids">Index entries for sequences related to groupoids</a>
%F A030257 a(n) = Sum_{1*s_1+2*s_2+...=n} (fixA[s_1, s_2, ...]/(1^s_1*s_1!*2^s_2*s2!*...)) where fixA[s_1, s_2, ...] = Product_{i>=j>=1} f(i, j, s_i, s_j) where f(i, j, s_i, s_j) = {i=j, odd} (Sum_{d|i} (d*s_d))^((i*s_i^2-s_i)/2) or {i=j, even} (Sum_{d|i} (d*s_d))^((i*s_i^2-2*s_i)/2) * (Sum_{d|i/2} (d*s_d))^s_i or {i != j} (Sum_{d|lcm(i, j)} (d*s_d))^(gcd(i, j)*s_i*s_j). - Corrected by _Sean A. Irvine_, Mar 27 2020
%F A030257 a(n) is asymptotic to (n^binomial(n-1, 2))/n! = A076113(n)/A000142(n).
%o A030257 (PARI)
%o A030257 permcount(v) = {my(m=1, s=0, k=0, t); for(i=1, #v, t=v[i]; k=if(i>1&&t==v[i-1], k+1, 1); m*=t*k; s+=t); s!/m}
%o A030257 C(d, r)={sum(i=1, #r, my(t=r[i]); if(d%t==0, t))}
%o A030257 E(v) = {prod(i=2, #v, prod(j=1, i-1, my(g=gcd(v[i], v[j])); C(v[i]*v[j]/g, v)^g)) * prod(i=1, #v, my(t=v[i]); C(t,v)^((t-1)\2)*if(t%2, 1, C(t/2,v)))}
%o A030257 a(n) = {my(s=0); forpart(p=n, s += permcount(p)*E(p)); s/n!} \\ _Andrew Howroyd_, Dec 10 2025
%Y A030257 Main diagonal of A038021.
%Y A030257 Cf. A001329, A038017, A076113 (labeled version).
%K A030257 nonn
%O A030257 0,4
%A A030257 _Christian G. Bower_, Feb 15 1998, May 15 1998 and Dec 03 2003
