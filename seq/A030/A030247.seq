%I A030247 #19 Dec 10 2025 23:26:45
%S A030247 1,1,3,138,700688,794734575200,307047114275109035760,
%T A030247 61899500454067972015948863454485,
%U A030247 9279375475116928325576506574232168143663715776,1398613277271868394599114870519695823681076475785785632600267759
%N A030247 Number of nonisomorphic idempotent groupoids.
%H A030247 Andrew Howroyd, <a href="/A030247/b030247.txt">Table of n, a(n) for n = 0..25</a>
%H A030247 <a href="/index/Gre#groupoids">Index entries for sequences related to groupoids</a>
%F A030247 For a list n(1), n(2), n(3), ..., let fixF[n] = prod{i, j >= 1}(sum{d|[ i, j ]}(d*n(d))^((i, j)*n(i)*n(j)-(i=j)n(i))).
%F A030247 a(n) = Sum_{1*s_1+2*s_2+...=n} (fix A[s_1, s_2, ...]/(1^s_1*s_1!*2^s_2*s2!*...)) where fixA[s_1, s_2, ...] = Product_{i>=j>=1} f(i, j, s_i, s_j) where f(i, j, s_i, s_j) = {i=j} (Sum_{d|i} (d*s_d))^(i*s_i^2-s_i) or {i != j} (Sum_{d|lcm(i, j)} (d*s_d))^(2*gcd(i, j)*s_i*s_j).
%F A030247 a(n) asymptotic to (n^(n^2-n))/n! = A090588(n)/A000142(n).
%o A030247 (PARI)
%o A030247 permcount(v) = {my(m=1, s=0, k=0, t); for(i=1, #v, t=v[i]; k=if(i>1&&t==v[i-1], k+1, 1); m*=t*k; s+=t); s!/m}
%o A030247 C(d, r)={sum(i=1, #r, my(t=r[i]); if(d%t==0, t))}
%o A030247 E(v) = {prod(i=1, #v, prod(j=1, #v, my(g=gcd(v[i], v[j])); C(v[i]*v[j]/g, v)^g)) / prod(i=1, #v, C(v[i], v) )}
%o A030247 a(n) = {my(s=0); forpart(p=n, s += permcount(p)*E(p)); s/n!} \\ _Andrew Howroyd_, Dec 10 2025
%Y A030247 Main diagonal of A038018.
%Y A030247 Cf. A001329, A038015, A090588 (labeled version).
%K A030247 nonn,changed
%O A030247 0,3
%A A030247 _Christian G. Bower_, Feb 15 1998, May 15 1998 and Dec 03 2003
