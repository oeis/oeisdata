%I A216678 #23 Dec 30 2025 12:45:25
%S A216678 0,2,0,88,0,207408,0,22902801416,0,112398351350823112,0,
%T A216678 24075116871728596710774372
%N A216678 On an n X n grid, number of ways to draw arrows between adjacent nodes such that each node has one outgoing and one incoming arrow, of which the one is not the opposite of the other (i.e., without 2-loops).
%C A216678 "Adjacent" is meant in the sense of von Neumann neighborhoods (4 neighbors for "interior" nodes, 3 resp. 2 for nodes on the borders resp. in the corners).
%C A216678 Or: Number of permutations of an n X n array, with each element moving exactly one horizontally or vertically and without 2-loops.
%H A216678 Project Euler, <a href="http://projecteuler.net/problem=393">Problem 393: Migrating ants</a>.
%e A216678 For a 1 X 1 grid, there is no such permutation or possibility.
%e A216678 For a 2 X 2 grid, on has the clockwise and counterclockwise cyclic "permutation" of the 4 nodes. (It is not allowed to draw arrows between 2 pairs of nodes in horizontal or vertical sense since, e.g., the arrow from the first to the second node is the opposite of the arrow from the second to the first node.)
%e A216678 For a 3 X 3 grid, there is no possibility, neither for a 5 X 5 grid.
%Y A216678 See A216675 for the same problem without the additional restriction.
%Y A216678 Cf. A216796, A216797, A216798, A216799, A216800 for more general n X k grids.
%K A216678 nonn,more
%O A216678 1,2
%A A216678 _M. F. Hasler_, Sep 13 2012
%E A216678 Terms a(6)-a(12) computed by _R. H. Hardin_, Sep 15 2012
