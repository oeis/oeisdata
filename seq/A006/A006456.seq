%I A006456 M0528 #82 Oct 27 2025 00:20:06
%S A006456 1,1,1,1,2,3,4,5,7,11,16,22,30,43,62,88,124,175,249,354,502,710,1006,
%T A006456 1427,2024,2870,4068,5767,8176,11593,16436,23301,33033,46832,66398,
%U A006456 94137,133462,189211,268252,380315,539192,764433,1083764,1536498,2178364
%N A006456 Number of compositions (ordered partitions) of n into squares.
%C A006456 From _Gus Wiseman_, Oct 26 2025: (Start)
%C A006456 Also the number of integer compositions of n such that every maximal run (x,...,x) has length divisible by x. For example, the composition c = (2,2,2,2,3,3,3,1,1) has maximal runs ((2,2,2,2),(3,3,3),(1,1)), with lengths 4, 3, 2, divisible by 2, 3, 1, respectively, so c is counted under a(19). The a(1) = 1 through a(10) = 16 compositions are:
%C A006456   1  11  111  22    122    1122    11122    2222      333        1333
%C A006456               1111  221    1221    11221    111122    12222      3331
%C A006456                     11111  2211    12211    111221    22122      112222
%C A006456                            111111  22111    112211    22221      122122
%C A006456                                    1111111  122111    1111122    122221
%C A006456                                             221111    1111221    221122
%C A006456                                             11111111  1112211    221221
%C A006456                                                       1122111    222211
%C A006456                                                       1221111    11111122
%C A006456                                                       2211111    11111221
%C A006456                                                       111111111  11112211
%C A006456                                                                  11122111
%C A006456                                                                  11221111
%C A006456                                                                  12211111
%C A006456                                                                  22111111
%C A006456                                                                  1111111111
%C A006456 (End)
%D A006456 N. J. A. Sloane and Simon Plouffe, The Encyclopedia of Integer Sequences, Academic Press, 1995 (includes this sequence).
%H A006456 Seiichi Manyama, <a href="/A006456/b006456.txt">Table of n, a(n) for n = 0..5000</a> (terms 0..500 from T. D. Noe)
%H A006456 Jan Bohman, Carl-Erik Fr√∂berg, Hans Riesel, <a href="https://doi.org/10.1007/BF01930983">Partitions in squares</a>, Nordisk Tidskr. Informationsbehandling (BIT) 19 (1979), 297-301.
%H A006456 J. Bohman et al., <a href="/A001156/a001156.pdf">Partitions in squares</a>, Nordisk Tidskr. Informationsbehandling (BIT) 19 (1979), 297-301. (Annotated scanned copy)
%H A006456 N. Robbins, <a href="http://ac.inf.elte.hu/Vol_043_2014/239_43.pdf">On compositions whose parts are polygonal numbers</a>, Annales Univ. Sci. Budapest., Sect. Comp. 43 (2014) 239-243. See p. 242.
%H A006456 <a href="/index/Su#ssq">Index entries for sequences related to sums of squares</a>
%F A006456 a(0) = 1; a(n) = Sum_{1 <= k^2 <= n} a(n-k^2), if n > 0. - _David W. Wilson_
%F A006456 G.f.: 1/(1-x-x^4-x^9-....) - _Jon Perry_, Jul 04 2004
%F A006456 a(n) ~ c * d^n, where d is the root of the equation EllipticTheta(3, 0, 1/d) = 3, d = 1.41774254618138831428829091099000662953179532057717725688..., c = 0.46542113389379672452973940263069782869244877335179331541... - _Vaclav Kotesovec_, May 01 2014, updated Jan 05 2017
%F A006456 G.f.: 2/(3 - theta_3(q)), where theta_3() is the Jacobi theta function. - _Ilya Gutkovskiy_, Aug 08 2018
%e A006456 From _Gus Wiseman_, Oct 26 2025: (Start)
%e A006456 The a(1) = 1 through a(9) = 11 compositions into squares:
%e A006456   1  11  111  4     14     114     1114     44        9
%e A006456               1111  41     141     1141     11114     144
%e A006456                     11111  411     1411     11141     414
%e A006456                            111111  4111     11411     441
%e A006456                                    1111111  14111     111114
%e A006456                                             41111     111141
%e A006456                                             11111111  111411
%e A006456                                                       114111
%e A006456                                                       141111
%e A006456                                                       411111
%e A006456                                                       111111111
%e A006456 (End)
%p A006456 a:= proc(n) option remember; `if`(n<0, 0,
%p A006456       `if`(n=0, 1, add(a(n-j^2), j=1..isqrt(n))))
%p A006456     end:
%p A006456 seq(a(n), n=0..44);  # _Alois P. Heinz_, Jul 26 2025
%t A006456 a[n_]:=a[n]=If[n==0, 1, Sum[a[n - k], {k, Select[Range[n], IntegerQ[Sqrt[#]] &]}]]; Table[a[n], {n,0,  100}] (* _Indranil Ghosh_, Jul 28 2017, after _David W. Wilson_'s formula *)
%o A006456 (PARI)
%o A006456 N=66;  x='x+O('x^N);
%o A006456 Vec( 1/( 1 - sum(k=1,1+sqrtint(N), x^(k^2) ) ) )
%o A006456 /* _Joerg Arndt_, Sep 30 2012 */
%o A006456 (Python)
%o A006456 from gmpy2 import is_square
%o A006456 class Memoize:
%o A006456     def __init__(self, func):
%o A006456         self.func=func
%o A006456         self.cache={}
%o A006456     def __call__(self, arg):
%o A006456         if arg not in self.cache:
%o A006456             self.cache[arg] = self.func(arg)
%o A006456         return self.cache[arg]
%o A006456 @Memoize
%o A006456 def a(n): return 1 if n==0 else sum([a(n - k) for k in range(1, n + 1) if is_square(k)])
%o A006456 print([a(n) for n in range(101)]) # _Indranil Ghosh_, Jul 28 2017, after _David W. Wilson_'s formula
%Y A006456 For partitions instead of compositions we have A001156, ranks A324588.
%Y A006456 The case without 1 is A280542.
%Y A006456 For equality instead of divisibility we have A301503, ranks A389530.
%Y A006456 The strict case is A331844, for partitions A033461.
%Y A006456 Row sums of A337165.
%Y A006456 For inequality we have A389508, ranks A389531, partitions A276429, ranks A325130.
%Y A006456 A003242 counts anti-run (Carlitz) compositions, ranks A333489.
%Y A006456 A011782 counts compositions.
%Y A006456 A032020 counts strict compositions, ranks A233564.
%Y A006456 A098124 counts compositions with maximum part = length, ranks A389532.
%Y A006456 A238130 and A333755 count compositions by maximal runs, partitions A365676.
%Y A006456 Cf. A000740, A008965, A070211, A098504, A107429, A175342, A275001, A280195, A280240, A325129.
%K A006456 nonn,easy
%O A006456 0,5
%A A006456 _N. J. A. Sloane_
%E A006456 Name corrected by _Bob Selcoe_, Feb 12 2014
