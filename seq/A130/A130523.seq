%I A130523 #21 Oct 04 2025 10:17:02
%S A130523 1,1,1,1,2,1,1,4,3,1,1,5,8,4,1,1,6,18,13,5,1,1,7,24,37,19,6,1,1,8,31,
%T A130523 87,63,26,7,1,1,9,39,118,184,97,34,8,1,1,10,48,157,442,324,140,43,9,1,
%U A130523 1,11,58,205,599,959,517,193,53,10,1,1,12,69,263,804,2332,1733,774,257,64,11
%N A130523 Square array, read by antidiagonals, where row n+1 equals the partial sums of the previous row after removing the n-th term from row n for n>=0, with row 0 equal to all 1's.
%H A130523 Paul D. Hanna, <a href="/A130523/b130523.txt">Table of n, a(n) for n = 0..1325; terms in rows 0..50.</a>
%F A130523 G.f.: A(x,y) = D(x*y)*( 1/(1 - y*F(x*y)) + x*C(x*y)*F(x*y)/(1 - x*C(x*y)) ), where D(x) = 1/(1 - x*C(x)*F(x) - x*F(x)^2) is the g.f. of the main diagonal (A007857), C(x) = 1 + x*C(x)^2 is the g.f. of Catalan numbers (A000108) and F(x) = 1 + x*F(x)^3 is the g.f. of ternary numbers (A001764).
%F A130523 The g.f. of n-th lower diagonal equals D(x)*F(x)*C(x)^n and the g.f. of n-th upper diagonal equals D(x)*F(x)^n, where D(x) is g.f. of main diagonal (A007857), C(x) is g.f. of Catalan numbers (A000108) and F(x) is g.f. of ternary numbers (A001764).
%e A130523 Square array begins:
%e A130523   (1), 1,  1,   1,    1,    1,     1,      1,       1, ...;
%e A130523   1,  (2), 3,   4,    5,    6,     7,      8,       9, ...;
%e A130523   1,   4, (8), 13,   19,   26,    34,     43,      53, ...;
%e A130523   1,   5, 18, (37),  63,   97,   140,    193,     257, ...;
%e A130523   1,   6, 24,  87, (184), 324,   517,    774,    1107, .,.;
%e A130523   1,   7, 31, 118,  442, (959), 1733,   2840,    4369, ...;
%e A130523   1,   8, 39, 157,  599, 2332, (5172),  9541,   15964, ...;
%e A130523   1,   9, 48, 205,  804, 3136, 12677, (28641),  53725, ...;
%e A130523   1,  10, 58, 263, 1067, 4203, 16880,  70605, (162008), ...;
%e A130523   ...
%e A130523 For each row, remove the term along the main diagonal (A007857, shown in parenthesis), and then take partial sums to obtain the next row.
%e A130523 G.f.: A(x,y) = 1 + (1*x + 1*y) + (1*x^2 + 2*x*y + 1*y^2) + (1*x^3 + 4*x^2*y + 3*x*y^2 + 1*y^3) + (1*x^4 + 5*x^3*y + 8*x^2*y^2 + 4*x*y^3 + 1*y^4) + (1*x^5 + 6*x^4*y + 18*x^3*y^2 + 13*x^2*y^3 + 5*x*y^4 + 1*y^5) + (1*x^6 + 7*x^5*y + 24*x^4*y^2 + 37*x^3*y^3 + 19*x^2*y^4 + 6*x*y^5 + 1*y^6) + ...
%e A130523 which may also be written as
%e A130523 A(x,y) = 1/(1-y) + x/(1-y)^2 + x^2*(1 + y - y^2)/(1-y)^3 + x^3*(1 + y + 4*y^2 - 9*y^3 + 4*y^4)/(1-y)^4 + x^4*(1 + y + 4*y^2 + 17*y^3 - 66*y^4 + 63*y^5 - 19*y^6)/(1-y)^5 + x^5*(1 + y + 4*y^2 + 17*y^3 + 74*y^4 - 444*y^5 + 673*y^6 - 422*y^7 + 97*y^8)/(1-y)^6 + x^6*(1 + y + 4*y^2 + 17*y^3 + 74*y^4 + 330*y^5 - 2864*y^6 + 6075*y^7 - 5898*y^8 + 2778*y^9 - 517*y^10)/(1-y)^7 + ...
%o A130523 (PARI) {T(n,k) = if(n<0||k<0,0,if(n==0,1,if(n>k+1, T(n,k-1) + T(n-1,k), T(n,k-1) + T(n-1,k+1))))}
%o A130523 for(n=0,10,for(k=0,10,print1(T(n,k),", "));print(""))
%o A130523 (PARI) /* Using Formula for G.F.: */
%o A130523 {T(n,k) = my(m=max(n,k)+1,C,F,D); C=subst(Ser(vector(m,r,binomial(2*r-2,r-1)/r)),x,x*y); F=subst(Ser(vector(m,r,binomial(3*r-3,r-1)/(2*r-1))),x,x*y); D=1/(1-x*y*C*F-x*y*F^2);A=D*(1/(1-y*F) + x*C*F/(1-x*C)); polcoef(polcoef(A+O(x^m),n,x)+O(y^m),k,y)}
%o A130523 for(n=0,10,for(k=0,10,print1(T(n,k),", "));print(""))
%Y A130523 Cf. Diagonals: A007857, A130524, A130525; related: A000108, A001764.
%K A130523 nonn,tabl
%O A130523 0,5
%A A130523 _Paul D. Hanna_, Jun 02 2007, Jun 06 2007
