%I A387942 #45 Dec 20 2025 14:39:00
%S A387942 1,2,1,4,3,2,3,8,1,6,3,4,3,6,3,16,3,2,3,12,3,6,3,8,9,6,1,12,3,6,3,32,
%T A387942 3,6,9,4,3,6,3,24,5,6,5,12,3,6,5,16,9,18,3,12,3,2,9,24,3,6,5,12,5,6,3,
%U A387942 64,9,6,5,12,3,18,3,8,3,6,9,12,9,6,3,48,1
%N A387942 In the prime factorization of n, replace each prime with the number of nonzero digits in its balanced ternary representation.
%C A387942 Extension to negative n: a(-n) = a(n), with only the first factor being negative for n<0.
%C A387942 A005812(n) = a(n) if n = 1 or is in A106843. This is only a sufficient condition as A005812(142) = a(142).
%H A387942 C. S. Davis, <a href="/A387942/b387942.txt">Table of n, a(n) for n = 1..10000</a>
%F A387942 Totally multiplicative with a(p^e) = A005812(p)^e.
%e A387942 Let the balanced ternary digits be expressed as '+' for 1 and '-' for -1.
%e A387942 a(1) = a('+') = 1.
%e A387942 a(2) = a('+-') = 2.
%e A387942 a(3) = a('+0') = 1.
%e A387942 a(4) = a(2*2) = a(2)*a(2) = 2*2 = 4.
%e A387942 a(5) = a('+--') = 3.
%e A387942 a(15) = a(3*5) = a(3)*a(5) = 1*3 = 3.
%e A387942 Let a(n) extend to negative indices.
%e A387942 a(-1) = a('-') = 1.
%e A387942 a(-2) = a('-+') = 2.
%e A387942 a(-3) = a('-0') = 1.
%e A387942 a(-4) = a(-2*2) = a(-2)*a(2) = 2*2 = 4.
%e A387942 a(-5) = a('-++') = 3.
%t A387942 A005812[n_] := A005812[n] = Module[{q = Round[n/3]}, Abs[n - 3 q] + A005812[q]]; A005812[0] = 0; (* _Jean-Fran√ßois Alcover_ at A005812 *)
%t A387942 f[p_, e_] := A005812[p]^e; a[n_] := Times @@ f @@@ FactorInteger[n]; Array[a, 100, 0] (* _Amiram Eldar_, Dec 08 2025 *)
%Y A387942 Cf. A005812, A072084, A106843.
%K A387942 nonn,base,mult,easy,new
%O A387942 1,2
%A A387942 _C. S. Davis_, Dec 08 2025
