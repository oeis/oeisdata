%I A213088 #30 Feb 12 2026 22:18:19
%S A213088 0,1,2,1,2,3,4,3,2,3,4,5,6,5,4,3,4,5,6,7,8,7,6,5,4,5,6,7,8,9,10,9,8,7,
%T A213088 6,5,6,7,8,9,10,11,12,11,10,9,8,7,6,7,8,9,10,11,12,13,14,13,12,11,10,
%U A213088 9,8,7,8,9,10,11,12,13,14,15,16,15,14,13,12,11
%N A213088 The Manhattan distance to the origin while traversing the first quadrant in a taxicab geometry.
%H A213088 Jens Ahlström, <a href="/A213088/b213088.txt">Table of n, a(n) for n = 1..10000</a>
%F A213088 From _Ridouane Oudra_, Feb 02 2026: (Start)
%F A213088 a(n) = Sum_{k=1..n-1} (-1)^floor(2*sqrt(k)).
%F A213088 a(n) = t + abs(t^2 - n) - 1, where t = floor(sqrt(n) + 1/2).
%F A213088 a(n) = A000194(n) + A053188(n) - 1.
%F A213088 a(n) = A319289(n-1) + A319290(n-1).
%F A213088 a(n) = A209302(n) - 1.
%F A213088 a(n) = n - 2*A080344(n-1) - 1. (End)
%e A213088 Path begins:
%e A213088      16--15--14--13    Y=3
%e A213088                   |
%e A213088      5---6---7   12    Y=2
%e A213088      |       |    |
%e A213088      4---3   8   11    Y=1
%e A213088          |   |    |
%e A213088      1---2   9---10    Y=0
%e A213088     ----------------------------
%e A213088  X = 0   1   2   3
%e A213088 For n=8, the path has come to the point (2, 1), which has the Manhattan distance a(8) = |2| + |1| = 3.
%t A213088 A213088[n_]:= # + Abs[#^2 - n] - 1 & [Round[Sqrt[n]]];
%t A213088 Array[A213088, 100] (* _Paolo Xausa_, Feb 06 2026 *)
%o A213088 (Python)
%o A213088 def f(x, y):
%o A213088     if not x and y % 2:
%o A213088         y = y + 1
%o A213088     elif not y and not x % 2:
%o A213088         x = x + 1
%o A213088     elif x == y:
%o A213088         if x % 2:
%o A213088             x = x - 1
%o A213088         else:
%o A213088             y = y - 1
%o A213088     elif y < x:
%o A213088         if x % 2:
%o A213088             y = y + 1
%o A213088         else:
%o A213088             y = y - 1
%o A213088     else:
%o A213088         if y % 2:
%o A213088             x = x - 1
%o A213088         else:
%o A213088             x = x + 1
%o A213088     return x, y
%o A213088 res = []
%o A213088 x = y = 0
%o A213088 for i in range(100):
%o A213088     res.append(x + y)
%o A213088     x, y = f(x, y)
%o A213088 print(res)
%o A213088 (Python)
%o A213088 from math import isqrt
%o A213088 def A213088(n): return (k:=(m:=isqrt(n))+(n>m*(m+1)))+abs(k**2-n)-1 # _Chai Wah Wu_, Feb 11 2026
%Y A213088 Cf. A319514, A319289, A319290, A389352 (half plane), A214526 (whole plane).
%Y A213088 Cf. A000194, A053188, A209302, A080344.
%K A213088 nonn,walk,changed
%O A213088 1,3
%A A213088 _Jens Ahlström_, Jun 05 2012
