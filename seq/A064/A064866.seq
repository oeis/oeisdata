%I A064866 #68 Nov 04 2025 15:50:54
%S A064866 1,1,2,3,4,1,2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,1,
%T A064866 2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,1,2,
%U A064866 3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28
%N A064866 Write numbers 1, then 1 up to 2^2, then 1 up to 3^2, then 1 up to 4^2 and so on.
%C A064866 This is a fractal sequence: if the first instance of each number is deleted, the original sequence is recovered. - _Franklin T. Adams-Watters_, Dec 14 2013
%C A064866 Subsequences start at indices A000330 + 1. - _Ralf Stephan_, Dec 17 2013
%C A064866 When sequence fills a triangular array by rows, the main diagonal is A064865.
%H A064866 Zhuorui He, <a href="/A064866/b064866.txt">Table of n, a(n) for n=1..22140.</a>
%F A064866 a(n) = A237451(n) + (A237452(n)*A074279(n)) + 1. - _M. F. Hasler_, Feb 17 2014
%F A064866 For 1 <= n <= 650, a(n) = n - t*(t-1)*(2t-1)/6, where t = floor((3*n)^(1/3)+1/2). - _Mikael Aaltonen_, Jan 17 2015
%F A064866 a(n) = n - k*(k-1)*(2k-1)/6 where k = m+1 if n>m*(m+1)*(2m+1)/6 and k = m otherwise and m = floor((3n)^(1/3)). - _Chai Wah Wu_, Nov 05 2024
%e A064866 The table begins:
%e A064866   1;
%e A064866   1, 2, 3, 4;
%e A064866   1, 2, 3, 4, 5, 6, 7, 8, 9;
%e A064866   1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16;
%e A064866 Row n has n^2 terms.
%e A064866 As a regular triangle the sequence begins:
%e A064866      1
%e A064866     1 2
%e A064866    3 4 1
%e A064866   2 3 4 5
%e A064866  6 7 8 9 1
%e A064866 ...
%e A064866 From _Antti Karttunen_, Feb 17 2014: (Start)
%e A064866 The sequence can also be considered as an irregular table consisting of successively larger square matrices:
%e A064866    1;
%e A064866    1, 2;
%e A064866    3, 4;
%e A064866    1, 2, 3;
%e A064866    4, 5, 6;
%e A064866    7, 8, 9;
%e A064866    1, 2, 3, 4;
%e A064866    5, 6, 7, 8;
%e A064866    9,10,11,12;
%e A064866   13,14,15,16;
%e A064866   etc.
%e A064866 (End)
%t A064866 Table[Range[n^2],{n,10}]//Flatten (* _Harvey P. Dale_, Mar 05 2018 *)
%o A064866 (PARI) A064866_vec(N=9)=concat(vector(N, i, vector(i^2, j, j))) \\ Note: This creates a vector; use A064866_vec()[n] to get the n-th term. - _M. F. Hasler_, Feb 17 2014
%o A064866 (Python)
%o A064866 from sympy import integer_nthroot
%o A064866 def A064866(n): return n-(k:=(m:=integer_nthroot(3*n,3)[0])+(6*n>m*(m+1)*((m<<1)+1)))*(k-1)*((k<<1)-1)//6 # _Chai Wah Wu_, Nov 04 2024
%Y A064866 Cf. A002260, A002262, A002024.
%Y A064866 Cf. A074279, A121997, A238013, A237451, A237452.
%Y A064866 Mini-index to these sequences: A064766, A064865, A064866, A065221-A655234 are all of the same type. See A064766 for a detailed explanation.
%K A064866 easy,nonn,tabf
%O A064866 1,3
%A A064866 _Floor van Lamoen_, Oct 08 2001
%E A064866 Edited by _Ralf Stephan_, Dec 17 2013
%E A064866 Keyword tabf from _Michel Marcus_, Sep 09 2025
%E A064866 Revised by _Zhuorui He_ and _Sean A. Irvine_, Nov 05 2025
