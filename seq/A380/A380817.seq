%I A380817 #16 Mar 02 2025 23:53:54
%S A380817 1,2,3,4,5,6,9,10,7,8,11,12,13,14,15,20,21,18,19,16,17,22,23,24,25,26,
%T A380817 27,28,35,36,33,34,31,32,29,30,37,38,39,40,41,42,43,44,45,54,55,52,53,
%U A380817 50,51,48,49,46,47,56,57,58,59,60,61,62,63,64,65,66,77,78,75,76,73,74,71,72
%N A380817 a(n) = A380245(A379343(n)).
%C A380817 This sequence can be regarded as a triangular array read by rows. Each row is a permutation of a block of consecutive numbers; the blocks are disjoint and every positive number belongs to some block. The length of row n is 4n-3 = A016813(n+1), n > 0.
%C A380817 The sequence can also be regarded as a table read by upward antidiagonals. For n>1, row n joins two consecutive antidiagonals.
%C A380817 The sequence is a self-inverse permutation of the positive integers.
%C A380817 In particular, the initial {a(1),a(2), ... a(A000384(n+1))} is self-inverse.
%C A380817 The sequence is an intra-block permutation of the positive integers.
%C A380817 Generalization of the Cantor numbering method.
%H A380817 Boris Putievskiy, <a href="/A380817/b380817.txt">Table of n, a(n) for n = 1..9730</a>
%H A380817 Boris Putievskiy, <a href="https://arxiv.org/abs/2310.18466">Integer Sequences: Irregular Arrays and Intra-Block Permutations</a>, arXiv:2310.18466 [math.CO], 2023.
%H A380817 <a href="/index/Per#IntegerPermutation">Index entries for sequences that are permutations of the natural numbers</a>.
%F A380817 T(n,k) for 1 <= k <= 4n - 3: T(n,k) = A000384(n-1) + P(n,k), P(n, k) = -k + m(n) - 1 if k < m(n) and k mod 2 = 1, P(n, k) = -k + m(n) + 1 if k < m(n) and k mod 2 = 0, P(n, k) = k if k >= m(n), where m(n) = 2*n - 1.
%e A380817 Triangle array begins:
%e A380817   k=    1   2   3  4   5   6   7   8   9
%e A380817   n=1:  1;
%e A380817   n=2:  2,  3,  4, 5,  6;
%e A380817   n=3:  9, 10,  7, 8, 11, 12, 13, 14, 15;
%e A380817 For n > 1, each row of triangle array joins two consecutive upward antidiagonals in the table:
%e A380817   1,  3,  6,  8, 15, ...
%e A380817   2,  5,  7, 14, 16, ...
%e A380817   4, 10, 13, 19, 26, ...
%e A380817   9, 12, 18, 25, 31, ...
%e A380817  11, 21, 24, 34, 41, ...
%e A380817   ...
%e A380817 Subtracting (n-1)*(2*n-3) from each term in row n produces a permutation of numbers from 1 to 4*n-3:
%e A380817   1,
%e A380817   1, 2, 3, 4, 5;
%e A380817   3, 4, 1, 2, 5, 6, 7, 8, 9;
%e A380817 All permutations are self-inverse.
%t A380817 T[n_,k_]:=(n-1)*(2*n-3)+Module[{m=2*n-1},If[k<m,If[OddQ[k],-k+m-1,-k+m+1],k]]
%t A380817 Nmax=3;Flatten[Table[T[n,k],{n,1,Nmax},{k,1,4 n-3}]]
%Y A380817 Cf. A016813 (row lengths), A000384, A378684, A380245, A379343.
%K A380817 nonn,tabf
%O A380817 1,2
%A A380817 _Boris Putievskiy_, Feb 04 2025
