%I A269746 #23 Dec 28 2025 20:22:56
%S A269746 1,2,4,6,8,10,13,16,20,24,28,32,36,40,45,49,54,60,65,71
%N A269746 Maximal number of 1's in an equilateral triangle of 0's and 1's with n points on each side, the entries being constant on vertical lines, with property that no three 1's form a triangle with sides parallel to the edges of the triangle.
%C A269746 The triangle is oriented with apex at the top and horizontal base.
%C A269746 Label the entries in the top left and right edges with the numbers 1 through 2n-1, and let S denote the subset of [1..2n-1] where these edges contains 1's. Then the matrix has the no-subtriangle property iff S contains no three-term arithmetic progression.
%e A269746 n, a(n), example of optimal S:
%e A269746 1, 1, [1]
%e A269746 2, 2, [1, 2]
%e A269746 3, 4, [1, 3, 4]
%e A269746 4, 6, [1, 2, 4, 5]
%e A269746 5, 8, [2, 3, 5, 6]
%e A269746 6, 10, [3, 4, 6, 7]
%e A269746 7, 13, [1, 5, 7, 8, 10]
%e A269746 8, 16, [1, 2, 7, 8, 10, 11]
%e A269746 9, 20, [1, 3, 4, 9, 10, 12, 13]
%e A269746 10, 24, [1, 2, 4, 5, 10, 11, 13, 14]
%e A269746 11, 28, [2, 3, 5, 6, 11, 12, 14, 15]
%e A269746 12, 32, [3, 4, 6, 7, 12, 13, 15, 16]
%e A269746 13, 36, [4, 5, 7, 8, 13, 14, 16, 17]
%e A269746 14, 40, [5, 6, 8, 9, 14, 15, 17, 18]
%e A269746 ...
%e A269746 For example, the line 5, 8, [2, 3, 5, 6] corresponds to the triangle
%e A269746 ....1....
%e A269746 ...0.1...
%e A269746 ..1.1.0..
%e A269746 .1.0.1.0.
%e A269746 0.1.1.0.0
%e A269746 and the value a(5) = 8.
%e A269746 It is a plausible conjecture that any optimal solution S here is also an optimal solution to the square grid version in A269745, and vice versa. (The square grid being obtained by reflecting the triangle in its base.)
%o A269746 (Python)
%o A269746 from itertools import product, combinations
%o A269746 def A269746(n):
%o A269746     c = 0
%o A269746     for p in product([0,1],repeat=2*n-1):
%o A269746         a = sum((i+2>>1 if i<n else 2*n-i>>1)*p[i] for i in range(2*n-1))
%o A269746         if a>c:
%o A269746             m = {k for k, d in enumerate(p,1) if d}
%o A269746             for i, j in combinations(m,2):
%o A269746                 if i+j&1^1 and i+j>>1 in m:
%o A269746                     break
%o A269746             else:
%o A269746                 c = a
%o A269746     return c # _Chai Wah Wu_, Dec 10 2025
%Y A269746 This is a lower bound on A227308.
%Y A269746 Cf. A003002, A269745.
%K A269746 nonn,more,changed
%O A269746 1,2
%A A269746 _Warren D. Smith_ and _N. J. A. Sloane_, Mar 20 2016
%E A269746 a(15)-a(18) from _Chai Wah Wu_, Dec 10 2025
%E A269746 a(19)-a(20) from _Chai Wah Wu_, Dec 28 2025
