%I A007678 M3411 #164 Nov 05 2025 15:21:45
%S A007678 0,0,1,4,11,24,50,80,154,220,375,444,781,952,1456,1696,2500,2466,4029,
%T A007678 4500,6175,6820,9086,9024,12926,13988,17875,19180,24129,21480,31900,
%U A007678 33856,41416,43792,52921,52956,66675,69996,82954,86800,102050,97734,124271,129404,149941
%N A007678 Number of regions in regular n-gon with all diagonals drawn.
%C A007678 This sequence and A006533 are two equivalent ways of presenting the same sequence.
%C A007678 A quasipolynomial of order 2520. - _Charles R Greathouse IV_, Jan 15 2013
%C A007678 Also the circuit rank of the n-polygon diagonal intersection graph. - _Eric W. Weisstein_, Mar 08 2018
%C A007678 This sequence only counts polygons, in contrast to A006533 which also counts the n segments of the circumscribed circle delimited by the edges of the regular n-gon. Therefore a(n) = A006533(n) - n. See also A006561 which counts the intersection points, and A350000 which considers iterated "cutting along diagonals". - _M. F. Hasler_, Dec 13 2021
%C A007678 The Petrie polygon orthographic projection of a regular n-simplex is a regular (n+1)-gon with all diagonals drawn. Hence a(n+1) is the number of regions in the Petrie polygon of a regular n-simplex. - _Mohammed Yaseen_, Nov 05 2022
%D A007678 Jean Meeus, Wiskunde Post (Belgium), Vol. 10, 1972, pp. 62-63.
%D A007678 C. A. Pickover, The Mathematics of Oz, Problem 58 "The Beauty of Polygon Slicing", Cambridge University Press, 2002.
%D A007678 N. J. A. Sloane and Simon Plouffe, The Encyclopedia of Integer Sequences, Academic Press, 1995 (includes this sequence).
%H A007678 Seiichi Manyama, <a href="/A007678/b007678.txt">Table of n, a(n) for n = 1..10000</a> (terms 1..1000 from T. D. Noe)
%H A007678 Lars Blomberg, Scott R. Shannon, and N. J. A. Sloane, <a href="http://neilsloane.com/doc/rose_5.pdf">Graphical Enumeration and Stained Glass Windows, 1: Rectangular Grids</a>, (2020). Also arXiv:2009.07918.
%H A007678 Robert Dougherty-Bliss, <a href="https://web.archive.org/web/20211116145811/https://gist.github.com/rwbogl/e0c6e2ba5e901188497131ac11a88f2e">First draft of Python program to produce colored drawings of these figures</a>, Github, Feb 09 2020.
%H A007678 Martin Griffiths, <a href="https://cs.uwaterloo.ca/journals/JIS/VOL13/Griffiths2/griffiths.html">Counting the regions in a regular drawing of K_{n,n}</a>, J. Int. Seq. 13 (2010) # 10.8.5.
%H A007678 M. F. Hasler, <a href="/A006561/a006561.html">Interactive illustration of A006561(n) & A006533(n)</a>; <a href="/A006533/a006533.png">colored version for n=6</a> <a href="/A006533/a006533_1.png">and for n=8</a>.
%H A007678 Sascha Kurz, <a href="http://www.mathe2.uni-bayreuth.de/sascha/oeis/drawing/drawing.html">m-gons in regular n-gons</a> (in German).
%H A007678 J. Meeus & N. J. A. Sloane, <a href="/A006532/a006532_1.pdf">Correspondence, 1974-1975</a>
%H A007678 Bjorn Poonen and Michael Rubinstein, <a href="https://doi.org/10.1137/S0895480195281246">The Number of Intersection Points Made by the Diagonals of a Regular Polygon</a>, SIAM J. Discrete Mathematics 11, no. 1 (1998), pp. 135-156; DOI:10.1137/S0895480195281246. [<a href="http://math.mit.edu/~poonen/papers/ngon.pdf">Author's copy</a>]. The latest arXiv version <a href="https://arxiv.org/abs/math/9508209">arXiv:math/9508209</a> has corrected some typos in the published version.
%H A007678 Bjorn Poonen and Michael Rubinstein, <a href="http://math.mit.edu/~poonen/papers/ngon.m">Mathematica programs for these sequences</a>
%H A007678 J. F. Rigby, <a href="https://doi.org/10.1007/BF00147438">Multiple intersections of diagonals of regular polygons, and related topics</a>, Geom. Dedicata 9 (1980), 207-238.
%H A007678 M. Rubinstein, <a href="/A006561/a006561_3.pdf">Drawings for n=4,5,6,...</a>
%H A007678 Scott R. Shannon, <a href="/A007678/a007678.png">Colored illustration for n = 17</a>
%H A007678 Scott R. Shannon, <a href="/A007678/a007678_1.png">Colored illustration for n = 18</a>
%H A007678 Scott R. Shannon, <a href="/A007678/a007678_2.png">Colored illustration for n = 19</a>
%H A007678 Scott R. Shannon, <a href="/A007678/a007678_3.png">Colored illustration for n = 23</a>
%H A007678 Scott R. Shannon, <a href="/A007678/a007678_4.png">Colored illustration for n = 27</a>
%H A007678 Scott R. Shannon, <a href="/A007678/a007678_6.png">Colored illustration for n = 40</a>
%H A007678 Scott R. Shannon, <a href="/A007678/a007678_7.png">Colored illustration for n = 41 (1st version)</a>
%H A007678 Scott R. Shannon, <a href="/A007678/a007678_8.png">Colored illustration for n = 41 (2nd version)</a>
%H A007678 Scott R. Shannon, <a href="/A007678/a007678_9.png">Colored illustration for n = 41 (3rd version)</a>. This variation has coloring based on the number of edges of the polygon: red = 3-gon, orange = 4-gon, yellow = 5-gon, light-green = 6-gon etc.
%H A007678 N. J. A. Sloane (in collaboration with Scott R. Shannon), <a href="/A331452/a331452.pdf">Art and Sequences</a>, Slides of guest lecture in Math 640, Rutgers Univ., Feb 8, 2020. Mentions this sequence.
%H A007678 N. J. A. Sloane, <a href="https://arxiv.org/abs/2301.03149">"A Handbook of Integer Sequences" Fifty Years Later</a>, arXiv:2301.03149 [math.NT], 2023, p. 18.
%H A007678 N. J. A. Sloane, <a href="/A331450/a331450.jpg">Summary table for vertices and regions in regular n-gon with all chords drawn, for n = 3..19.</a> [V = total number of vertices (A007569), V_i (i>=2) = number of vertices where i lines cross (A292105, A292104, A101363); R = total number of cells or regions (A007678), R_i (i>=3) = number of regions with i edges (A331450, A062361, A067151).]
%H A007678 Prasad Balakrishnan Warrier, <a href="https://indianmathsoc.org/pdf/Mathstudent-V93-part3-4-2024.pdf#page=34">The physiognomy of the Erd≈ës-Szekeres conjecture (happy ending problem)</a>, Math. Student (Indian Math. Soc., 2024) Vol. 93, Nos. 3-4, 28-48.
%H A007678 Eric Weisstein's World of Mathematics, <a href="https://mathworld.wolfram.com/CircuitRank.html">Circuit Rank</a>
%H A007678 Eric Weisstein's World of Mathematics, <a href="https://mathworld.wolfram.com/PolygonDiagonalIntersectionGraph.html">Polygon Diagonal Intersection Graph</a>
%H A007678 Eric Weisstein's World of Mathematics, <a href="https://mathworld.wolfram.com/RegularPolygonDivisionbyDiagonals.html">Regular Polygon Division by Diagonals</a>
%H A007678 <a href="/index/Pol#Poonen">Sequences formed by drawing all diagonals in regular polygon</a>
%H A007678 <a href="/index/Ch#CHORD">Sequences related to chord diagrams</a>
%F A007678 For odd n > 3, a(n) = sumstep {i=5, n, 2, (i-2)*floor(n/2)+(i-4)*ceiling(n/2)+1} + x*(x+1)*(2*x+1)/6*n), where x = (n-5)/2. Simplifying the floor/ceiling components gives the PARI code below. - _Jon Perry_, Jul 08 2003
%F A007678 For odd n, a(n) = (24 - 42*n + 23*n^2 - 6*n^3 + n^4)/24. - _Graeme McRae_, Dec 24 2004
%F A007678 a(n) = A006533(n) - n. - _T. D. Noe_, Dec 23 2006
%F A007678 For odd n, binomial transform of [1, 10, 29, 36, 16, 0, 0, 0, ...] = [1, 11, 50, 154, ...]. - _Gary W. Adamson_, Aug 02 2011
%F A007678 a(n) = A135565(n) - A007569(n) + 1. - _Max Alekseyev_
%F A007678 See the Mma code in A006533 for the explicit Poonen-Rubenstein formula that holds for all n. - _N. J. A. Sloane_, Jan 23 2020
%t A007678 del[m_,n_]:=If[Mod[n,m]==0,1,0]; R[n_]:=If[n<3, 0, (n^4-6n^3+23n^2-42n+24)/24 + del[2,n](-5n^3+42n^2-40n-48)/48 - del[4,n](3n/4) + del[6,n](-53n^2+310n)/12 + del[12,n](49n/2) + del[18,n]*32n + del[24,n]*19n - del[30,n]*36n - del[42,n]*50n - del[60,n]*190n - del[84,n]*78n - del[90,n]*48n - del[120,n]*78n - del[210,n]*48n]; Table[R[n], {n,1,1000}] (* _T. D. Noe_, Dec 21 2006 *)
%o A007678 (PARI) /* Only for odd n > 3, not suitable for other values of n! */ { a(n)=local(nr,x,fn,cn,fn2); nr=0; fn=floor(n/2); cn=ceil(n/2); fn2=(fn-1)^2-1; nr=fn2*n+fn+(n-2)*fn+cn; x=(n-5)/2; if (x>0,nr+=x*(x+1)*(2*x+1)/6*n); nr; } \\ _Jon Perry_, Jul 08 2003
%o A007678 (PARI) apply( {A007678(n)=if(n%2, (((n-6)*n+23)*n-42)*n/24+1, ((n^3/2 -17*n^2/4 +22*n -if(n%4, 31, 40) +!(n%6)*(310 -53*n))/12 +!(n%12)*49/2 +!(n%18)*32 +!(n%24)*19 -!(n%30)*36 -!(n%42)*50 -!(n%60)*190 -!(n%84)*78 -!(n%90)*48 -!(n%120)*78 -!(n%210)*48)*n)}, [1..44]) \\ _M. F. Hasler_, Aug 06 2021
%o A007678 (Python)
%o A007678 def d(n,m): return not n % m
%o A007678 def A007678(n): return (1176*d(n,12)*n - 3744*d(n,120)*n + 1536*d(n,18)*n - d(n,2)*(5*n**3 - 42*n**2 + 40*n + 48) - 2304*d(n,210)*n + 912*d(n,24)*n - 1728*d(n,30)*n - 36*d(n,4)*n - 2400*d(n,42)*n - 4*d(n,6)*n*(53*n - 310) - 9120*d(n,60)*n - 3744*d(n,84)*n - 2304*d(n,90)*n + 2*n**4 - 12*n**3 + 46*n**2 - 84*n)//48 + 1 # _Chai Wah Wu_, Mar 08 2021
%Y A007678 Cf. A001006, A054726, A006533, A006561, A006600, A007569 (number of vertices), A006522, A135565 (number of line segments).
%Y A007678 A062361 gives number of triangles, A331450 and A331451 give distribution of polygons by number of sides.
%Y A007678 A333654, A335614, A335646, A337330 give the number of internal n-gon to k-gon contacts for n>=3, k>=n.
%Y A007678 A187781 gives number of distinct regions.
%K A007678 nonn,nice
%O A007678 1,4
%A A007678 _N. J. A. Sloane_, Bjorn Poonen (poonen(AT)math.princeton.edu)
%E A007678 More terms from _Graeme McRae_, Dec 26 2004
%E A007678 a(1) = a(2) = 0 prepended by _Max Alekseyev_, Dec 01 2011
