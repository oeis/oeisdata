%I A038018 #19 Dec 10 2025 23:26:30
%S A038018 1,0,1,3,4,3,978,1485,729,138,56630832,75503872,37755904,8390656,
%T A038018 700688,813802235250650,1017252851596875,508626454000150,
%U A038018 127156661234450,15894600437500,794734575200,4797611106478930201025520,5757133327963849592814528,2878566664268170585402272,767617777400259565017216,115142666729400734582304,9211413364005734398080,307047114275109035760
%N A038018 Triangle read by rows: T(n,k) is the number of groupoids with n elements and k idempotents.
%H A038018 Andrew Howroyd, <a href="/A038018/b038018.txt">Table of n, a(n) for n = 0..350</a> (rows 0..25)
%H A038018 <a href="/index/Gre#groupoids">Index entries for sequences related to groupoids</a>
%e A038018 Triangle begins:
%e A038018          1;
%e A038018          0,        1;
%e A038018          3,        4,        3;
%e A038018        978,     1485,      729,     138;
%e A038018   56630832, 75503872, 37755904, 8390656, 700688;
%e A038018   ...
%o A038018 (PARI)
%o A038018 permcount(v) = {my(m=1, s=0, k=0, t); for(i=1, #v, t=v[i]; k=if(i>1&&t==v[i-1], k+1, 1); m*=t*k; s+=t); s!/m}
%o A038018 C(d, r)={sum(i=1, #r, my(t=r[i]); if(d%t==0, t))}
%o A038018 E(v,x) = {prod(i=1, #v, prod(j=1, #v, my(g=gcd(v[i], v[j])); C(v[i]*v[j]/g, v)^g)) * prod(i=1, #v, my(t=v[i]); 1 + (x^t-1)/C(t,v) )}
%o A038018 row(n) = {my(s=0); forpart(p=n, s += permcount(p)*E(p,'x)); Vecrev(s/n!)} \\ _Andrew Howroyd_, Dec 10 2025
%Y A038018 Row sums are A001329.
%Y A038018 Main diagonal is A030247.
%Y A038018 Columns k=0..1 are A030250, A030253.
%Y A038018 Cf. A038021, A391480 (labeled version).
%K A038018 nonn,tabl
%O A038018 0,4
%A A038018 _Christian G. Bower_, May 15 1998
%E A038018 a(17) onward from _Andrew Howroyd_, Dec 10 2025
