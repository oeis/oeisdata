%I A038021 #18 Dec 10 2025 23:26:26
%S A038021 1,0,1,1,2,1,38,57,27,7,13872,18544,9280,2080,192,83360520,104208775,
%T A038021 52110500,13035000,1632750,82355,10203847031340,12244640803344,
%U A038021 6122356466508,1632661566120,244914392652,19596407976,653502972,31023254154131753920,36193798266945468968
%N A038021 Triangle read by rows: T(n,k) is the number of commutative groupoids with n elements and k idempotents.
%H A038021 Andrew Howroyd, <a href="/A038021/b038021.txt">Table of n, a(n) for n = 0..702</a> (rows 0..36)
%H A038021 <a href="/index/Gre#groupoids">Index entries for sequences related to groupoids</a>
%e A038021 Triangle begins:
%e A038021          1;
%e A038021          0,          1;
%e A038021          1,          2,       1;
%e A038021         38,         57,      27,        7;
%e A038021      13872,     18544,     9280,     2080,     192;
%e A038021   83360520, 104208775, 52110500, 13035000, 1632750, 82355;
%e A038021   ...
%o A038021 (PARI)
%o A038021 permcount(v) = {my(m=1, s=0, k=0, t); for(i=1, #v, t=v[i]; k=if(i>1&&t==v[i-1], k+1, 1); m*=t*k; s+=t); s!/m}
%o A038021 C(d, r)={sum(i=1, #r, my(t=r[i]); if(d%t==0, t))}
%o A038021 E(v) = {prod(i=2, #v, prod(j=1, i-1, my(g=gcd(v[i], v[j])); C(v[i]*v[j]/g, v)^g)) * prod(i=1, #v, my(t=v[i]); C(t,v)^((t-1)\2)*if(t%2, 1, C(t/2,v)))}
%o A038021 J(v,x) = { prod(i=1, #v, C(v[i],v) + x^v[i] - 1) }
%o A038021 row(n) = { my(s=0); forpart(p=n, s += permcount(p)*E(p)*J(p,x)); Vecrev(s/n!) } \\ _Andrew Howroyd_, Dec 10 2025
%Y A038021 Row sums are A001425.
%Y A038021 Main diagonal is A030257.
%Y A038021 Columns k=0..1 are A030260, A030263.
%Y A038021 Cf. A001329, A038018, A038022, A391482 (labeled version).
%K A038021 nonn,tabl
%O A038021 0,5
%A A038021 _Christian G. Bower_, May 15 1998
%E A038021 a(21) onward from _Andrew Howroyd_, Dec 10 2025
