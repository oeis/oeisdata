%I A389927 #16 Oct 22 2025 08:32:54
%S A389927 17608,205696,205694,17612,205696,17614,200955,205696,17621,17608,
%T A389927 17607,205697,17604,17622,205697,17606,175096,17609,17620,205697,
%U A389927 205697,205697,205710,205697,205697,205697,205697,205697,205697,205695,162055,205697,205695,205695
%N A389927 The total length of the sequence when starting from n and creating the smallest unused prime number by either removing or adding a single digit anywhere in the value of the previous number. If the sequence does not terminate, a(n) = -1.
%C A389927 See A389824 and A389825 for the sequence terms when starting at 1 and 2 respectively.
%C A389927 It is conjectured that the sequence of primes terminates for all starting values.
%H A389927 Michael S. Branicky, <a href="/A389927/b389927.txt">Table of n, a(n) for n = 1..10000</a>
%F A389927 From _Michael S. Branicky_, Oct 22 2025: (Start)
%F A389927 a(n) = 1 + a(A389929(n)) for n composite, in particular
%F A389927 a(n) = 1 when A389929(n) = 0. (End)
%e A389927 a(1) = 17608. See A389824.
%e A389927 a(2) = 205696. See A389825.
%o A389927 (Python)
%o A389927 from gmpy2 import is_prime
%o A389927 from functools import cache
%o A389927 def f(n, avoid):
%o A389927     s = str(n)
%o A389927     D = set(p for i in range(len(s)) if len(t:=s[:i]+s[i+1:]) and is_prime(p:=int(t)))
%o A389927     if D and (Dcands:=D-avoid):
%o A389927         return min(Dcands)
%o A389927     A = set(p for i in range(len(s)+1) for d in "0123456789" if is_prime(p:=int(s[:i]+d+s[i:])))
%o A389927     return min(Acands) if A and (Acands:=A-avoid) else 0
%o A389927 @cache
%o A389927 def a(n):
%o A389927     if n > 1 and not is_prime(n):
%o A389927         fn = f(n, set())
%o A389927         return 1 if (fn:=f(n, set())) == 0 else 1 + a(fn)
%o A389927     an, aset = n, {n}
%o A389927     while an != 0:
%o A389927         aset.add(an)
%o A389927         an = f(an, aset)
%o A389927     return len(aset)
%o A389927 # _Michael S. Branicky_, Oct 22 2025
%Y A389927 Cf. A389824, A389825, A389925, A389926, A387852, A389929.
%Y A389927 Cf. A000040, A080603, A080608, A068166.
%K A389927 nonn,base
%O A389927 1,1
%A A389927 _Scott R. Shannon_, Oct 19 2025
