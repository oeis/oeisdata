%I A389596 #45 Nov 14 2025 11:09:00
%S A389596 0,1,1,1,1,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8,9,
%T A389596 9,9,9,9,10,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,13,14,14,14,
%U A389596 14,14,15,15,15,15,16,16,16,16,16,17,17,17,17,18,18
%N A389596 Harmonic-mean index of primes: a(1) = 0 and thereafter a(n) = floor( n / (2*H(n)) ), where H(n) = Sum_{k=1..n} 1/prime(k).
%C A389596 For n >= 2, f(n) = n/(2*H(n)) is strictly increasing and never an integer, hence a(n) is nondecreasing with unit jumps. Indeed, f(n+1) - f(n) = (p*H(n) - n) / (2*H(n)*(p*H(n) + 1)), where p = prime(n+1), so 0 < f(n+1) - f(n) < 1/(2*H(n)) < 1 (since H(2) = 5/6 > 1/2 and H is increasing).
%C A389596 Let P_n = A002110(n) (primorial) and S_n = Sum_{k=1..n} P_n/p_k = A024451(n). Then gcd(S_n, P_n) = 1 and S_n is odd. Consequently f(n) = n*P_n/(2*S_n) can be an integer only at n = 1; therefore the only tie case is n = 1, giving a(1) = 0, and for n >= 2 we may simply use floor.
%C A389596 Define t(m) = min{ n : a(n) = m } and L(m) = t(m+1) - t(m). Since f is strictly increasing and non-integral (n >= 2), t(m) = min{ n : f(n) >= m }. Asymptotically L(m) = 2*log log m + O(1) = Theta(log log m). From Rosser-Schoenfeld bounds one obtains effective constants c1, c2 and m0 with c1 + 2*log log m <= L(m) <= c2 + 2*log log m for all m >= m0 (e.g., a conservative choice c1 = -10, c2 = +10, m0 = 16).
%C A389596 a(n) = n / (2*(log log n + B1)) + O( n/(log n*log log n) ), using prime(n) ~ n*(log n + log log n - 1 + ... and H(n) = log log n + B1 + (log log n - 1)/log n + O( (log log n)^2/(log n)^2 ), where B1 = A077761.
%C A389596 t(m) ~ 2*m*(log log m + B1), and L(m) ~ 2*log log m + O(1).
%D A389596 G. H. Hardy and E. M. Wright, An Introduction to the Theory of Numbers, 6th ed., Oxford Univ. Press, 2008, Chap. XXII; see Sec. 22.18 "Products of k prime factors", pp. 383-386 (6th ed. pagination).
%H A389596 Pablo Cadena-Urzúa, <a href="/A389596/b389596.txt">Table of n, a(n) for n = 1..10000</a>
%H A389596 J. Barkley Rosser and Lowell Schoenfeld, <a href="https://doi.org/10.1215/ijm/1255631807">Approximate formulas for some functions of prime numbers</a>, Illinois J. Math. 6 (1962), 64-94.
%F A389596 a(n) = floor( n*A002110(n) / (2*A024451(n)) ), for n >= 2.
%e A389596 n=1: primes {2}, H(1) = 1/2, f(1) = 1, a(1) = 0.
%e A389596 n=5: primes {2,3,5,7,11}, H(5) = 2927/2310, f(5) = 5775/2927 = 1.973..., a(5) = 1.
%t A389596 primorial[n_] := Product[Prime[i], {i, n}];
%t A389596 a024451[n_] := Numerator @ Sum[1/Prime[i], {i, n}];
%t A389596 a[n_]:=Floor[n*primorial[n]/(2*a024451[n])];a[1]=0;Array[a,75] (* _James C. McMahon_, Nov 13 2025 *)
%o A389596 (Python)
%o A389596 from sympy import prime
%o A389596 def a_values(N: int):
%o A389596     if N < 1:
%o A389596         return []
%o A389596     P = 2
%o A389596     S = 1
%o A389596     out = [0]
%o A389596     if N == 1:
%o A389596         return out
%o A389596     for n in range(2, N + 1):
%o A389596         p = prime(n)
%o A389596         P_prev = P
%o A389596         P *= p
%o A389596         S = p*S + P_prev
%o A389596         out.append((n*P) // (2*S))
%o A389596     return out
%o A389596 (Python)
%o A389596 from fractions import Fraction
%o A389596 from sympy import prime
%o A389596 def A389596(n):
%o A389596     if n == 1: return 0
%o A389596     return n*(h:=sum(Fraction(1,prime(k)) for k in range(1,n+1))).denominator//(h.numerator<<1) # _Chai Wah Wu_, Nov 13 2025
%Y A389596 Cf. A000040, A002110, A024451, A034386, A077761, A106830.
%K A389596 nonn,new
%O A389596 1,6
%A A389596 _Pablo Cadena-Urzúa_, Oct 10 2025
