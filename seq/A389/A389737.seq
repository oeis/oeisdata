%I A389737 #20 Oct 22 2025 12:07:28
%S A389737 1,2,4,8,14,23,34,49,66,87,111,139,169,205,243,285,331,382,435,494,
%T A389737 555,622,693,768,845,930,1018,1110,1206,1308,1412,1524,1638,1758,1882,
%U A389737 2010,2142,2283,2426,2573,2724,2883,3044,3213,3384,3561,3744,3931,4120,4319
%N A389737 Number of subsets of {1..n} forming a finite arithmetic progression.
%C A389737 An arithmetic progression is a sequence with all equal first differences.
%F A389737 a(n) = A051336(n) + 1.
%e A389737 The a(0) = 1 through a(5) = 23 subsets:
%e A389737   {}  {}   {}     {}       {}         {}
%e A389737       {1}  {1}    {1}      {1}        {1}
%e A389737            {2}    {2}      {2}        {2}
%e A389737            {1,2}  {3}      {3}        {3}
%e A389737                   {1,2}    {4}        {4}
%e A389737                   {1,3}    {1,2}      {5}
%e A389737                   {2,3}    {1,3}      {1,2}
%e A389737                   {1,2,3}  {1,4}      {1,3}
%e A389737                            {2,3}      {1,4}
%e A389737                            {2,4}      {1,5}
%e A389737                            {3,4}      {2,3}
%e A389737                            {1,2,3}    {2,4}
%e A389737                            {2,3,4}    {2,5}
%e A389737                            {1,2,3,4}  {3,4}
%e A389737                                       {3,5}
%e A389737                                       {4,5}
%e A389737                                       {1,2,3}
%e A389737                                       {1,3,5}
%e A389737                                       {2,3,4}
%e A389737                                       {3,4,5}
%e A389737                                       {1,2,3,4}
%e A389737                                       {2,3,4,5}
%e A389737                                       {1,2,3,4,5}
%p A389737 b:= proc(n) option remember; `if`(n<1, [0$2],
%p A389737       (p-> p+[numtheory[tau](n), p[1]])(b(n-1)))
%p A389737     end:
%p A389737 a:= n-> 1+n+b(n)[2]:
%p A389737 seq(a(n), n=0..49);  # _Alois P. Heinz_, Oct 22 2025
%t A389737 Table[Length[Select[Subsets[Range[n]],SameQ@@Differences[#]&]],{n,0,15}]
%o A389737 (Python)
%o A389737 from math import isqrt
%o A389737 def A389737(n): return (((s:=isqrt(n-1))*(s+1))**2>>2)+(n-s**2)*n+1+sum((q:=(n-1)//k)*(2*n-k*(1+q)) for k in range(2, s+1)) if n else 1 # _Chai Wah Wu_, Oct 20 2025
%Y A389737 For partitions instead of subsets we have A049988 (ranks A325328), strict A049980.
%Y A389737 The nonempty case is A051336.
%Y A389737 The 0-prepended case (also the version containing maximum) is A054519, ranks A389732.
%Y A389737 For compositions instead of subsets we have A175342, ranks A389731.
%Y A389737 For distinct instead of equal differences we have A364465.
%Y A389737 The complement for compositions is A389741, ranks A389735.
%Y A389737 The complement for partitions is A389811, ranks A389812.
%Y A389737 The complement is counted by A389813.
%Y A389737 Cf. A000740, A007862, A008965, A011782, A325557.
%K A389737 nonn
%O A389737 0,2
%A A389737 _Gus Wiseman_, Oct 19 2025
%E A389737 More terms from _Chai Wah Wu_, Oct 20 2025
