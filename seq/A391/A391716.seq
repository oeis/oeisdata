%I A391716 #74 Feb 10 2026 10:05:56
%S A391716 1,2,2,2,3,3,3,3,3,3,4,3,4,3,3,3,4,3,4,3,3,4,5,3,3,4,3,3,4,3,4,3,4,4,
%T A391716 4,3,4,4,4,3,4,4,4,4,3,4,6,3,4,4,4,4,5,3,4,4,4,4,5,3,4,4,4,3,4,4,5,4,
%U A391716 4,4,5,3,4,5,4,4,4,4,5,3,3,4,5,4,4,5,4,4,5,4,4,4,4,4,5
%N A391716 Let f be an additive function with f(2^e) = (e + e mod 2)/2, f(p^e) = e*(p-1)/2, p an odd prime. a(n) is the number of iterations of f(n) required to reach 0.
%C A391716 The function f(n) occurs naturally as A392781.
%C A391716 Since f(n) < n for every n, iterating f(n) always reaches 0.
%C A391716 Every n appears a finite number of times in this sequence. Let S_n be the set of numbers k such that a(k) = n. We can prove that S_n is finite by an induction on n = 1, since S_1 = {1} as k = 1 is the only k such that f(k) = 0, and thus a(k) = 1. Let the induction hypothesis be that S_i has a maximum element M_i for all 1 <= i <= n. If r is in S_{n+1}, then f(r) is in S_n. We will prove that if f(r) = M_n, then r <= 2^(2*M_n). We note that for an arbitrary prime power p^e, f(p^e) = e*(p-1)/2 >= log_2(p^e)/2. Let r be composite. Then f(r) = M_n = Sum f(p^e) >= (Sum log_2(p^e))/2 = log_2(r)/2. Hence log_2(r) <= 2*M_n, and r <= 2^(2*M_n). Since f(2^(2*M_n)) = M_n, therefore 2^(2*M_n) is in S_{n+1}. If t is in S_{n+1} and t > 2^(2*M_n) and f(t) < M_n, then log_2(t)/2 <= f(t) < M_n. But then log_2(t) < 2*M_n and t < 2^(2*M_n), which contradicts the assumption. Consequently if t is in S_{n+1} and f(t) < M_n, then t < 2^(2*M_n). Therefore 2^(2*M_n) is the maximum element of S_{n+1} and S_{n+1} is finite.
%C A391716 By the above proof and inducting from M_1 = 1, the sequence of the largest k such that a(k) = n begins: 1, 4, 256, 2^(2^(2^4)), 2^(2^(2^(2^5))), 2^(2^(2^(2^(2^6)))), 2^(2^(2^(2^(2^(2^7))))), ...
%H A391716 Miles Englezou, <a href="/A391716/b391716.txt">Table of n, a(n) for n = 1..10000</a>
%e A391716 For f(n) defined in the name:
%e A391716  a(1)  = 1 since f(1)  = 0
%e A391716  a(2)  = 2 since f(2)  = 1  -> f(1)  = 0
%e A391716  a(10) = 3 since f(10) = 3  -> f(3)  = 1 -> f(1) = 0
%e A391716  a(22) = 4 since f(22) = 6  -> f(6)  = 2 -> f(2) = 1 -> f(1) = 0
%e A391716  a(23) = 5 since f(23) = 11 -> f(11) = 5 -> f(5) = 2 -> f(2) = 1 -> f(1) = 0
%t A391716 f[p_, e_] := e*(p-1)/2; f[2, e_] := (e + Mod[e, 2])/2; s[1] = 0; s[n_] := Plus @@ f @@@ FactorInteger[n]; a[n_] := -1 + Length[NestWhileList[s, n, # > 0 &]]; Array[a, 100] (* _Amiram Eldar_, Jan 25 2026 *)
%o A391716 (PARI) A392781(n) = { my(F = factor(n)); sum(i=1, #F~, my([p, e] = F[i, ]); if(p==2, (e+1)\2, e*(p-1)/2)) }
%o A391716 a(n) = { my(nb = 1, r = A392781(n)); while(r <> 0, nb++; r = A392781(r)); nb }
%Y A391716 Cf. A392781.
%K A391716 nonn,changed
%O A391716 1,2
%A A391716 _Miles Englezou_, Jan 25 2026
